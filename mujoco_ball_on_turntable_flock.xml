<!-- 
Copyright 2020 The dm_control Authors and Copyright 2023 Randall Britten
Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.
Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. 

Based on https://github.com/deepind/dm_control/blob/main/tutorial.ipynb ("the original") (commit 774f4)
Changes relative to the original
- Extracted just xml that pertained to "tippe-top", and adapted to "ball on turntable"
-->
<mujoco model="Ball on Turntable - Flock">
  <option integrator="RK4" noslip_iterations="100" />
  <asset>
    <texture name="grid_floor" type="2d" builtin="checker" rgb1=".1 .2 .3" rgb2=".2 .3 .4" width="300" height="300"/>
    <material name="grid_floor" texture="grid_floor" texrepeat="8 8" reflectance=".2"/>

    <texture name="grid_turntable" type="2d" builtin="checker" rgb1=".3 .2 .1" rgb2=".4 .3 .2" width="300" height="300"/>
    <material name="grid_turntable" texture="grid_turntable" texrepeat="4 4" reflectance=".2"/>

    <texture name="grid_ball" type="2d" builtin="checker" rgb1="1 1 1" rgb2="0 0 0" width="100" height="100"/>
    <material name="grid_ball" texture="grid_ball" texrepeat="1 1" reflectance=".2"/>
  </asset>
  <worldbody>
    <geom size="50 50 .01" type="plane" material="grid_floor"/>
    <light pos="0 5 20"/>
    <light directional="true" castshadow="false"/>
    <camera name="closeup" pos="0 -35 35" xyaxes="1 0 0 0 1 1"/>






 <body name="ball00" pos="6.802970249779742 0.9691584970015075 2.21">
      <freejoint/>
      <geom name="ball00_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball01" pos="5.728086809536799 1.9303235870519675 2.21">
      <freejoint/>
      <geom name="ball01_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball02" pos="4.269789553347966 1.9507304486188768 2.21">
      <freejoint/>
      <geom name="ball02_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball03" pos="3.1437981582338073 1.001408064354216 2.21">
      <freejoint/>
      <geom name="ball03_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball04" pos="2.9153519410476356 -0.4729848938278542 2.21">
      <freejoint/>
      <geom name="ball04_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball05" pos="3.716852815470638 -1.7424738175721748 2.21">
      <freejoint/>
      <geom name="ball05_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball06" pos="5.168957325826622 -2.1805998187252413 2.21">
      <freejoint/>
      <geom name="ball06_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball07" pos="6.56492476661834 -1.5542146294012709 2.21">
      <freejoint/>
      <geom name="ball07_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball08" pos="7.210564033271885 -0.1536444412630033 2.21">
      <freejoint/>
      <geom name="ball08_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball09" pos="6.770025536372391 1.339724056367666 2.21">
      <freejoint/>
      <geom name="ball09_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball10" pos="5.440909802147408 2.1847162270836273 2.21">
      <freejoint/>
      <geom name="ball10_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball11" pos="3.8659052043368685 1.9484320536850035 2.21">
      <freejoint/>
      <geom name="ball11_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball12" pos="2.8210444093662117 0.726358955552353 2.21">
      <freejoint/>
      <geom name="ball12_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball13" pos="2.833845853981959 -0.8964309768312485 2.21">
      <freejoint/>
      <geom name="ball13_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball14" pos="3.9187385860733914 -2.125646799939456 2.21">
      <freejoint/>
      <geom name="ball14_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball15" pos="5.559897300347236 -2.3455999651022488 2.21">
      <freejoint/>
      <geom name="ball15_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball16" pos="6.9545999259487505 -1.427756767712785 2.21">
      <freejoint/>
      <geom name="ball16_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball17" pos="7.405334382420759 0.19397944101322961 2.21">
      <freejoint/>
      <geom name="ball17_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball18" pos="6.668921731357614 1.7266862778421606 2.21">
      <freejoint/>
      <geom name="ball18_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>


    <body name="ball19" pos="5.09493530119317 2.4053734744540427 2.21">
      <freejoint/>
      <geom name="ball19_geom" type="sphere" size="0.2" material="grid_ball" />
    </body>






    <body name="turntable" pos="0 0 1.01">
      <joint name="axle" type="hinge" axis="0 0 1" pos="0 0 0"/>
      <geom name="turntable_geom" type="cylinder" pos="0 0 0" size="12 1" material="grid_turntable"/>
    </body>
  </worldbody>
  <!-- <keyframe>
    <key name="spinning" 
    qpos="6.802970249779742 0.9691584970015075 2.209616678768436 0.9393304430640574 -0.3388814207228727 -0.016745280668937865
      5.728086809536799 1.9303235870519675 2.2096187633233995 0.979604311695948 -0.1606023254919965 -0.018396164835889635
      4.269789553347966 1.9507304486188768 2.209617038130719 0.456438946992713 0.8770011121625679 0.13298003515160514
      3.1437981582338073 1.001408064354216 2.2096195612300664 -0.6175414956165356 0.7805027364551486 0.07764965631363374
      2.9153519410476356 -0.4729848938278542 2.2096242009268607 0.8271189574442285 -0.5601463671581323 0.023114158411598015
      3.716852815470638 -1.7424738175721748 2.2096253509091874 -0.23463019435526608 -0.960948691988454 0.14282743375600976
      5.168957325826622 -2.1805998187252413 2.2096208340544994 -0.9803371448612935 0.13060813242759814 -0.020450984465775073
      6.56492476661834 -1.5542146294012709 2.209618822919877 -0.015834837612558637 0.9956835787360833 -0.09144801149410255
      7.210564033271885 -0.1536444412630033 2.2096175544815284 -0.5316910621042513 -0.8468767287984529 0.008219953194287333
      6.770025536372391 1.339724056367666 2.2096167608955133 0.6316569532041848 0.7717255633286676 0.05763072908820848
      5.440909802147408 2.1847162270836273 2.2096190918884466 0.7943996298882012 0.5908537877882529 0.08458552100113716
      3.8659052043368685 1.9484320536850035 2.209620658534722 0.853778265492996 0.49567568662039685 0.07966115858470513
      2.8210444093662117 0.726358955552353 2.209617488320939 0.9895256042376163 -0.12264300658656553 -0.012332656401413948
      2.833845853981959 -0.8964309768312485 2.2096221056946734 -0.63301279574707 0.7688181113536531 -0.0678234108977928
      3.9187385860733914 -2.125646799939456 2.209620988308059 -0.1818138769677973 0.9681125270515905 -0.1692556659038528
      5.559897300347236 -2.3455999651022488 2.209617969909445 -0.42531723904113267 0.8921895850548833 -0.13747841328373567
      6.9545999259487505 -1.427756767712785 2.2096194101047577 -0.7428576184714308 0.6644344410235098 -0.05542657081250049
      7.405334382420759 0.19397944101322961 2.209620051761204 0.9998937758834648 -0.012422538676413963 0.0013560762385623432
      6.668921731357614 1.7266862778421606 2.2096236831539637 -0.9639940492823598 -0.2481864664028102 -0.02505007261277624
      5.09493530119317 2.4053734744540427 2.2096244472596736 -0.6837193202430629 0.7120427843273639 0.11469618367945073    
     0 0" 
    qvel="-1.357655683851793 2.596059848366431 2.5850996135333404e-06 158.3537386470348 -0.24140294204774515 0.35219560311242104 -2.760871359350916 1.0775166572405217 9.190414277630778e-05 142.66978572534282 -0.10992855493127339 0.3089855206299591 -2.8211415872762875 -1.006339558857511 6.197877004686841e-06 117.77612789747795 -0.03884682769091918 0.09621596392728328 -1.4847424078163662 -2.633042923288234 8.738671840244957e-05 93.93692524398249 0.39773213430786086 0.1558911253975595 0.6209781673702367 -2.987930732879129 0.00015844985144474152 88.07670463524846 0.5317520751889298 -0.15250297159203408 2.453326461160055 -1.8681924658280855 5.2975543911601285e-05 106.29380270079322 -0.12285890033822763 0.23832256858424444 3.1072364622961026 0.19793959258650842 4.885403504772908e-05 133.37395806765036 -0.07009633583099648 0.2334718756798443 2.23280691590588 2.206131181662393 7.475919045294983e-05 155.19013934900082 -0.05171629914284863 -0.18409202820462242 0.23147412701262407 3.1571531488524602 4.9207470092778125e-05 164.5007865452565 0.26657656768512883 -0.032629015298742875 -1.9246106485380539 2.556036506839885 -2.8670442366685534e-05 158.68331560810927 0.27165851125593043 0.05039974925438623 -3.1664346815939446 0.6717226510348071 -0.00012885642296948095 138.93374526565876 0.15568664301409307 0.15929141333017333 -2.861200838165529 -1.5836516467879158 -7.683340770210979e-05 110.88037552696125 -0.11226081494490502 0.04115385116021254 -1.1329111247297146 -3.099573773310622 1.2594161946286393e-06 87.33706089616607 0.10852358881180421 -0.5108915312927969 1.1895663891709591 -3.1129307006841667 -8.394713806217138e-05 87.58701754339725 0.5500228067713057 0.18698649155382513 2.969376495694212 -1.5876067908587637 -6.018834510983746e-05 111.86305101853134 -0.006482058230568369 0.16195607885884855 3.3136375627346286 0.7534192480257192 -3.7203208368818825e-05 140.9652849037711 -0.20434539104422636 -0.031835148850040663 2.019988741288625 2.766080647078508 6.741484329075561e-05 161.74044295967175 -0.3783323426757548 0.15317878020527725 -0.3012122819883915 3.4427914581916426 -1.3653053101075863e-05 168.0501566150866 -0.052793469315722846 0.4872444099930582 -2.5229160665020403 2.419090401523167 -0.00029096150220542537 158.1341314479639 0.11964844236308672 0.3975272280443808 -3.53120082990201 0.18422610585766702 0.00011363051935519487 134.2599723456185 -0.21109475082534354 0.08433797972106466 5" />
  </keyframe> -->
  <actuator>
    <velocity name="velocity_ttbl" joint="axle" kv="1e5" ctrlrange="5 6" ctrllimited="true" />
  </actuator>
</mujoco>
